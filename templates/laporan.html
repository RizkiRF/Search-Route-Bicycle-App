{% extends 'layout.html' %} 

{% block body %}
<div class="container">
    <div class="row">
        <form action="" method="POST">
            <div class='col-xs-6 col-sm-3'>
                <div class="form-group">
                    <div class='input-group date' id='datetimepickerIcon'>
                        <input type='text' class="form-control" id='datetimepickerFiled' name="tanggal" value="{{request.form.tanggal}}" />
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                </div>
            </div>
            <div class='col-xs-2 col-sm-3 '>
                <button type="submit" class="btn btn-primary">Lihat Data</button>
            </div>
        </form>
    </div>
</div>

<div class="jumbotron">
    <div class="center-block">
        <div id="container"></div>
    </div>
</div>

<div class="table-responsive">
<table class="table table-striped table-hover">
     
    <tr class="warning">
        <th>Waktu</th>
        <th>06.00</th>

        <th>07.00</th>
        <th>08.00</th>
        <th>09.00</th>
        <th>10.00</th>
        <th>11.00</th>
        <th>12.00</th>
        <th>13.00</th>
        <th>14.00</th>
        <th>15.00</th>
        <th>16.00</th>
        <th>17.00</th>
    </tr>
    <tr>
        <td>Besar</td>
        {% for a in kendaraanBesars %}
        <td>{{a}}</td>
        {% endfor %}
    </tr>

    <tr>
        <td>Kecil</td>
        {% for a in kendaraanKecils %}
        <td>{{a}}</td>
        {% endfor %}
    </tr>

    <tr>
        <td>Total</td>
        {% for a in totalKendaraans %}
        <td>{{a}}</td>
        {% endfor %}
    </tr>
    
</table>
</div>

<script>
    var getData = $.get('/data');
    getData.done(function (res) {
        Highcharts.chart('container', {

            title: {
                text: 'Grafik Statistik Volumen Kendaraan Tugumuda Kota Semarang'
            },

            subtitle: {
               
            },

            yAxis: {
                title: {
                    text: 'Volume Kendaraan'
                }
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'middle'
            },
            xAxis: {
                categories: ['06:00', '07:00', '08:00', '09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00']
            },
            plotOptions: {
                line: {
                    dataLabels: {
                        enabled: false
                    },
                    enableMouseTracking: true
                }
            },
            series: [{
                name: 'Kendaraan Besar',
                data: res.besar
            }, {
                name: 'Kendaraan Kecil',
                data: res.kecil
            }],

            responsive: {
                rules: [{
                    condition: {
                        maxWidth: 900
                    },
                    chartOptions: {
                        legend: {
                            layout: 'horizontal',
                            align: 'center',
                            verticalAlign: 'bottom'
                        }
                    }
                }]
            }

        });
    });

</script>


{% endblock %}